<div class="d-flex justify-content-between mb-4 align-items-center">
  <h4 class="fw-bold m-0">My Purchases</h4>

  <div class="dropdown">
    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
      Sort By
    </button>
    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <li>
        <a class="dropdown-item" (click)="navigateToWithComponentValues('date')">
          Purchase Date
          <fa-icon class="p-1" [icon]="getSortIcon('date')"></fa-icon>
        </a>
      </li>
      <li>
        <a class="dropdown-item" (click)="navigateToWithComponentValues('totalCost')">
          Total Cost
          <fa-icon class="p-1" [icon]="getSortIcon('totalCost')"></fa-icon>
        </a>
      </li>
    </ul>
  </div>
</div>

<div class="card">
  <div class="card-body">
    <ul *ngIf="purchases.length !== 0; else noPurchasesMessage" class="list-group list-group-flush">
      <li *ngFor="let purchase of purchases" class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <fa-icon icon="shopping-cart" class="me-1"></fa-icon>
          <strong class="fw-bold">{{ purchase.title }} : {{ purchase.productQty }}</strong>
          <br />
          <small class="text-muted">{{ purchase.date | formatMediumDate }}</small>
        </div>
        <span class="badge bg-secondary rounded-pill">{{ purchase.totalCost }} DT</span>
      </li>
    </ul>
    <ng-template #noPurchasesMessage>
      <p class="text-muted text-center">
        You don't have any purchases. Let's go shopping! <fa-icon icon="shopping-cart" size="lg" class="m-1"></fa-icon>
      </p>
    </ng-template>
  </div>
</div>

<div class="mt-2" *ngIf="purchases && purchases.length > 0">
  <div class="d-flex justify-content-center">
    <jhi-item-count [params]="{ page: page, totalItems: totalItems, itemsPerPage: itemsPerPage }"></jhi-item-count>
  </div>

  <div class="d-flex justify-content-center">
    <ngb-pagination
      [collectionSize]="totalItems"
      [page]="page"
      [pageSize]="itemsPerPage"
      [maxSize]="5"
      [rotate]="true"
      (pageChange)="navigateToPage($event)"
    ></ngb-pagination>
  </div>
</div>
